"use strict";var express=require("express"),bodyParser=require("body-parser"),app=express(),port=3e3;app.set("view engine","pug"),app.set("views","./views"),app.use(bodyParser.json()),app.use(bodyParser.urlencoded({extended:!0}));var users=[{id:1,name:"Bang"},{id:2,name:"THinh"}];app.get("/",function(e,r){r.render("index",{name:"AASD"})}),app.get("/users",function(e,r){r.render("users/index",{users:users})}),app.get("/users/search",function(e,r){var s=e.query.q,n=users.filter(function(e){return-1!==e.name.toLowerCase().indexOf(s.toLowerCase())});r.render("users/index",{users:n})}),app.get("/users/create",function(e,r){r.render("users/create")}),app.post("/users/create",function(e,r){users.push(e.body),r.redirect("/users")}),app.listen(port,function(){console.log("Server listerning on port 3000!")});